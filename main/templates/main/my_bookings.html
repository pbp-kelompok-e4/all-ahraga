{% extends "base.html" %}

{% block title %}Bookingan Saya{% endblock title %}

{% block content %}
<div style="max-width: 900px; margin: 20px auto; padding: 25px; background-color: white; border-radius: 8px;">

    {% if bookings %}
        <p style="text-align: center;">Berikut adalah daftar booking Anda yang menunggu konfirmasi pembayaran.</p>
        <ul style="list-style: none; padding: 0;">
            {% for booking in bookings %}
                <li style="border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; padding: 20px; background-color: #f9f9f9;">
                    
                    <h4>
                        Booking #{{ booking.id }} - 
                        <strong>{{ booking.venue_schedule.venue.name }}</strong>
                    </h4>
                    
                    <p>
                        <strong>Jadwal:</strong> 
                        {{ booking.venue_schedule.date|date:"l, d F Y" }}
                    </p>
                    <p>
                        <strong>Total Biaya:</strong> Rp {{ booking.total_price }}
                    </p>
                    <p>
                        <strong>Metode Pembayaran:</strong> {{ booking.transaction.payment_method }}
                    </p>
                    <p>
                        <strong>Status Pembayaran:</strong> 
                        <span style="font-weight: bold; color: #E67E22;">
                            MENUNGGU PEMBAYARAN
                        </span>
                    </p>
                    
                    <div style="display: flex; gap: 10px;">
                        <a href="{% url 'customer_payment' booking.id %}" style="display: inline-block; padding: 10px 15px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                            Bayar Sekarang
                        </a>
                        <a href="{% url 'delete_booking' booking.id %}" style="display: inline-block; padding: 10px 15px; background-color: #dc3545; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;"
                           onclick="return confirm('Apakah Anda yakin ingin membatalkan booking ini?');">
                            Cancel Booking
                        </a>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p style="text-align: center; color: green; font-weight: bold;">
            Tidak ada booking yang menunggu pembayaran. Semua booking Anda sudah lunas! üëç
        </p>
    {% endif %}
</div>
{% endblock content %}