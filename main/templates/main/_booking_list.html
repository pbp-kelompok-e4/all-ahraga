{% if bookings %}
    <ul class="space-y-5">
        {% for booking in bookings %}
            <li class="border border-gray-200 rounded-lg p-5 bg-gray-50">
                <h4 class="text-lg mb-3">
                    Booking #{{ booking.id }} - 
                    <strong>{{ booking.venue_schedule.venue.name }}</strong>
                </h4>
                
                <p class="mb-1">
                    <strong>Tanggal:</strong> {{ booking.venue_schedule.date|date:"l, d F Y" }}
                </p>
                <p class="mb-1">
                    <strong>Waktu:</strong> {{ booking.venue_schedule.start_time|time:"H:i" }} - {{ booking.venue_schedule.end_time|time:"H:i" }}
                </p>

                {% if booking.coach_schedule %}
                <p class="mb-1">    
                    <strong>Coach:</strong> {{ booking.coach_schedule.coach.user.get_full_name|default:booking.coach_schedule.coach.user.username }}
                </p>
                {% endif %}

                {% with equipment_list=booking.bookingequipment_set.all %}
                {% if equipment_list %}
                <p class="mb-1">
                    <strong>Peralatan:</strong>
                    {% for eq in equipment_list %}
                    {{ eq.equipment.name }}{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </p>
                {% endif %}
                {% endwith %}

                <p class="mb-1">
                    <strong>Total Biaya:</strong> 
                    <span class="font-medium">Rp {{ booking.total_price }}</span>
                </p>
                <p class="mb-1">
                    <strong>Metode Pembayaran:</strong> {{ booking.transaction.payment_method }}
                </p>
                <p>
                    <strong>Status Pembayaran:</strong> 
                    <span class="{% if booking.transaction.status == 'CONFIRMED' %}text-green-600{% elif booking.transaction.status == 'PENDING' %}text-yellow-600{% else %}text-red-600{% endif %} font-medium"> 
                        {{ booking.transaction.get_status_display|default:booking.transaction.status }}
                    </span>
                </p>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="text-center text-gray-600 py-10">
        {% if request.GET.q or request.GET.status %}
            Tidak ada booking yang cocok dengan filter Anda.
        {% else %}
            Anda belum memiliki riwayat booking.
        {% endif %}
    </p>
{% endif %}