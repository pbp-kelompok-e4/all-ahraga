{% load static %}
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>All-Ahraga | {% block title %}{% endblock title %}</title> 
    
    <style>
        body { font-family: sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        header { background-color: #333; color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; }
        header a { color: white; text-decoration: none; margin-left: 20px; }
        main { min-height: 80vh; padding: 20px; }
        footer { background-color: #333; color: white; text-align: center; padding: 10px; margin-top: 20px; }
        .logo { font-size: 1.5em; font-weight: bold; }
        .alert { padding: 10px; margin-bottom: 15px; border-radius: 4px; }
        .alert-success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-danger { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>

    {% block extra_head %}{% endblock extra_head %} 
</head>

<body>
    <header>
        <div class="logo"><a href="{% url 'home' %}">All-Ahraga</a></div>
        <nav>
            {% if user.is_authenticated %}
                
                {% if user.profile %}
                
                    {% if user.is_superuser or user.is_staff %}
                        <a href="{% url 'admin_dashboard' %}">ADMIN DASHBOARD</a>
                        <a href="/admin/" target="_blank">Django Admin</a> 
                    
                    {% elif user.profile.is_venue_owner %}
                        <a href="{% url 'venue_dashboard' %}">Manage Venue</a>
                        <a href="{% url 'venue_revenue' %}">Revenue Report</a>
                    
                    {% elif user.profile.is_coach %}
                        <a href="{% url 'coach_dashboard' %}">Jadwal Sesi</a>
                        <a href="{% url 'coach_profile' %}">Profil Pelatih</a>
                        <a href="{% url 'coach_dashboard' %}">Laporan Pendapatan</a>
                    
                    {% elif user.profile.is_customer %}
                        <a href="{% url 'my_bookings' %}">Bookingan Saya</a>
                        <a href="{% url 'booking_history' %}">Riwayat Booking</a>
                    {% endif %}

                {% endif %} 
                
                <span style="margin-left: 20px;">|</span>
                <a href="{% url 'logout' %}">Keluar ({{ user.username }})</a>
                
            {% else %}
                <a href="{% url 'register' %}">Daftar</a>
                <a href="{% url 'login' %}">Masuk</a>
                {% endif %}
        </nav>
    </header>

    <main>
        {% if messages %}
            <div style="padding: 10px;">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        {% block content %}
        {% endblock content %}
    </main>

    <footer>
        &copy; 2025 All-Ahraga â€” Kelompok 4 PBP E
    </footer>

    {% block extra_js %}{% endblock extra_js %}
</body>
</html>